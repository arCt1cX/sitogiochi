<!DOCTYPE html>
<html>
<!-- The lang attribute will be set dynamically by JavaScript -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">
    <!-- Dynamic meta tags based on browser language -->
    <script>
      // Run this before other meta tags
      const preferredLang = navigator.language || navigator.userLanguage;
      const isItalian = preferredLang && (preferredLang.startsWith('it') || preferredLang === 'it');
      
      if (isItalian) {
        document.write('<title id="pageTitle">DrewGames - Giochi da fare con gli amici offline</title>');
        document.write('<meta id="pageDescription" name="description" content="DrewGames: una collezione di giochi divertenti da fare con gli amici offline. Scopri giochi interattivi come Impostor, ColorGrid, GuessThePic e molti altri!">');
      } else {
        document.write('<title>DrewGames - Games to play with friends offline</title>');
        document.write('<meta id="pageDescription" name="description" content="DrewGames: a collection of fun games to play with friends offline. Discover interactive games like Impostor, ColorGrid, GuessThePic and many more!">');
      }
    </script>
    
    <!-- Favicon and Apple Touch Icons -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="logo.jpg">
    <link rel="manifest" href="site.webmanifest">
    
    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.partygamesdrew.com/">
    <meta property="og:title" content="DrewGames - Games to play with friends offline">
    <meta property="og:description" content="DrewGames: a collection of fun games to play with friends offline. Discover interactive games like Impostor, ColorGrid, GuessThePic and many more!">
    <meta property="og:image" content="https://www.partygamesdrew.com/logo.jpg">
    
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.partygamesdrew.com/">
    <meta name="twitter:title" content="DrewGames - Games to play with friends offline">
    <meta name="twitter:description" content="DrewGames: a collection of fun games to play with friends offline. Discover interactive games like Impostor, ColorGrid, GuessThePic and many more!">
    <meta name="twitter:image" content="https://www.partygamesdrew.com/logo.jpg">
    
    <!-- Hreflang tags for language alternatives -->
    <link rel="alternate" hreflang="en" href="https://www.partygamesdrew.com/?lang=en" />
    <link rel="alternate" hreflang="it" href="https://www.partygamesdrew.com/?lang=it" />
    <link rel="alternate" hreflang="x-default" href="https://www.partygamesdrew.com/" />
    <script>
        // Set language as early as possible
        (function() {
            function getInitialLang() {
                // Check URL parameter first
                const urlParams = new URLSearchParams(window.location.search);
                const urlLang = urlParams.get('lang');
                if (urlLang === 'en' || urlLang === 'it') {
                    return urlLang;
                }
                
                // Check localStorage
                const storedLang = localStorage.getItem('lang');
                if (storedLang) {
                    return storedLang;
                }
                
                // Check browser language
                const browserLang = (navigator.language || navigator.userLanguage || '').toLowerCase();
                if (browserLang === 'it' || browserLang === 'it-it' || browserLang.startsWith('it-')) {
                    return 'it';
                }
                
                // Default to English
                return 'en';
            }
            
            // Set the lang attribute
            document.documentElement.lang = getInitialLang();
        })();
    </script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-72Y5QND8E8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-72Y5QND8E8');
    </script>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1877136537382240"
     crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.partygamesdrew.com/">
    
    <!-- JSON-LD structured data for better search results -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "DrewGames",
      "url": "https://www.partygamesdrew.com/",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://www.partygamesdrew.com/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "description": "A collection of fun games to play with friends offline. Discover interactive games like Impostor, ColorGrid, GuessThePic and many more!",
      "logo": "https://www.partygamesdrew.com/logo.jpg",
      "image": "https://www.partygamesdrew.com/logo.jpg"
    }
    </script>
    
    <style>
        /* Sidebar Navigation Styles */
        .sidenav {
            height: 100%;
            width: 0;
            position: fixed;
            z-index: 1001;
            top: 0;
            left: 0;
            background-color: rgba(35, 30, 65, 0.97);
            overflow-x: hidden;
            transition: 0.3s;
            padding-top: 60px;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(5px);
        }
        
        .sidenav a {
            padding: 15px 25px;
            text-decoration: none;
            font-size: 18px;
            color: #f1f1f1;
            display: block;
            transition: 0.3s;
            white-space: nowrap;
            border-left: 3px solid transparent;
        }
        
        .sidenav a:hover {
            color: #7b68ee;
            background-color: rgba(255, 255, 255, 0.1);
            border-left: 3px solid #7b68ee;
        }
        
        .sidenav .closebtn {
            position: absolute;
            top: 0;
            right: 25px;
            font-size: 36px;
            margin-left: 50px;
            border-left: none;
            padding: 8px 16px;
        }
        
        .sidenav .closebtn:hover {
            background-color: transparent;
            border-left: none;
        }
        
        .sidenav-section {
            margin-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 15px;
        }
        
        .sidenav-header {
            color: #aaa;
            font-size: 14px;
            padding: 5px 25px;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .hamburger-menu {
            position: fixed;
            top: 15px;
            left: 15px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 21px;
            cursor: pointer;
            z-index: 1000;
            background-color: rgba(71, 60, 139, 0.8);
            border-radius: 5px;
            padding: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .hamburger-menu:hover {
            background-color: rgba(71, 60, 139, 0.95);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .hamburger-menu div {
            width: 100%;
            height: 3px;
            background-color: white;
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        /* Overlay when sidebar is open */
        .overlay {
            height: 100%;
            width: 0;
            position: fixed;
            z-index: 1000;
            top: 0;
            left: 0;
            background-color: rgba(0, 0, 0, 0.5);
            overflow-x: hidden;
            transition: 0.3s;
        }
        
        /* Main content shift */
        #main {
            transition: margin-left 0.3s;
        }
        
        @media screen and (max-height: 450px) {
            .sidenav {padding-top: 15px;}
            .sidenav a {font-size: 16px;}
        }
        
        .tagline {
            position: relative;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.2rem;
            text-align: center;
            font-style: italic;
            background: linear-gradient(90deg, 
                #473c8b, 
                #614dc2, 
                #7b68ee, 
                #473c8b);
            background-size: 300% auto;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 4s linear infinite;
            filter: drop-shadow(0 0 2px rgba(71, 60, 139, 0.7));
            text-shadow: 0 0 15px rgba(71, 60, 139, 0.5);
        }
        
        @keyframes shine {
            0% {
                background-position: 0% center;
            }
            100% {
                background-position: 300% center;
            }
        }
        
        h2 {
            font-size: 1rem;
            font-weight: 500;
            color: #aaa;
            margin-bottom: 2rem;
        }
        
        @media (max-width: 768px) {
            .tagline {
                font-size: 1.3rem;
            }
            
            h2 {
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 480px) {
            .tagline {
                font-size: 1.1rem;
            }
            
            h2 {
                font-size: 0.8rem;
            }
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
            padding: 15px 0;
        }
        
        .support-container {
            margin-top: 10px;
        }
        
        .bmc-button-fallback {
            display: inline-block;
            line-height: 0;
            text-decoration: none;
            box-shadow: 0 3px 5px rgba(0,0,0,0.2);
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .bmc-button-fallback:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.3);
        }
        
        .bmc-button-fallback:active {
            transform: translateY(-1px);
        }
        
        @media (max-width: 480px) {
            .footer-content {
                gap: 15px;
            }
        }
        
        .language-toggle {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: rgba(71, 60, 139, 0.8);
            color: white;
            border: 1px solid white;
            border-radius: 5px;
            padding: 8px 12px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 28px;
        }
        
        .language-toggle:hover {
            background-color: rgba(71, 60, 139, 0.95);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .flag-icon {
            width: 24px;
            height: 16px;
            border-radius: 2px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <!-- Hamburger Menu Button -->
    <div class="hamburger-menu" onclick="openNav()">
        <div></div>
        <div></div>
        <div></div>
    </div>

    <!-- Sidebar Navigation -->
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="index.html" id="nav-home">Home</a>
        <a href="about.html" id="nav-about">About Us</a>
        
        <div class="sidenav-section">
            <div class="sidenav-header" id="legal-header">Legal</div>
            <a href="privacy-policy.html" id="nav-privacy">Privacy Policy</a>
            <a href="terms-of-service.html" id="nav-terms">Terms of Service</a>
            <a href="cookie-policy.html" id="nav-cookies">Cookie Policy</a>
        </div>
    </div>

    <!-- Overlay for when sidebar is open -->
    <div id="myOverlay" class="overlay" onclick="closeNav()"></div>

    <!-- Main Content Wrapper -->
    <div id="main">
        <button id="languageToggle" class="language-toggle" onclick="toggleLanguage()" aria-label="Change language">
            <svg id="currentFlag" class="flag-icon" viewBox="0 0 640 480" xmlns="http://www.w3.org/2000/svg">
                <!-- The country flag SVG will be inserted here by JavaScript -->
            </svg>
        </button>
        
        <header>
            <div class="logo-container">
                <img src="logo.jpg" alt="DrewGames Logo - Giochi per amici offline" class="logo">
            </div>
            <h1>Drew Games</h1>
            <div id="tagline" class="tagline">Illumina la mente, scatena la serata</div>
            <h2 id="subtitle">Giochi da fare con gli amici offline 🎉</h2>
        </header>

        <main>
            <div class="games-container" id="gamesContainer">
                <!-- Game cards will be inserted here by JavaScript -->
            </div>
        </main>

        <footer>
            <div class="footer-content">
                <p id="copyright">&copy; 2025 partygamesdrew.com - Tutti i diritti riservati</p>
                <div class="support-container">
                    <!-- Mobile-friendly BMC button implementation -->
                    <a id="bmc-link" href="https://www.buymeacoffee.com/partygamesdrew" target="_blank" class="bmc-button-fallback">
                        <img src="https://cdn.buymeacoffee.com/buttons/v2/default-violet.png" alt="Buy Me A Coffee" style="height: 60px; width: 217px;">
                    </a>
                    <script>
                        // Load the official BMC script
                        (function() {
                            const script = document.createElement('script');
                            script.type = 'text/javascript';
                            script.src = 'https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js';
                            script.setAttribute('data-name', 'bmc-button');
                            script.setAttribute('data-slug', 'partygamesdrew');
                            script.setAttribute('data-color', '#BD5FFF');
                            script.setAttribute('data-emoji', '');
                            script.setAttribute('data-font', 'Cookie');
                            script.setAttribute('data-text', 'Buy me a coffee');
                            script.setAttribute('data-outline-color', '#000000');
                            script.setAttribute('data-font-color', '#ffffff');
                            script.setAttribute('data-coffee-color', '#FFDD00');
                            
                            // On script load, hide our fallback if the official button rendered properly
                            script.onload = function() {
                                setTimeout(function() {
                                    const bmcButton = document.querySelector('.bmc-btn');
                                    if (bmcButton) {
                                        // If the official button is present, hide our fallback
                                        document.getElementById('bmc-link').style.display = 'none';
                                        
                                        // Add touchend event listener for mobile devices
                                        bmcButton.addEventListener('touchend', function(e) {
                                            window.open('https://www.buymeacoffee.com/partygamesdrew', '_blank');
                                        });
                                    }
                                }, 1000); // Wait a second for the button to render
                            };
                            
                            document.body.appendChild(script);
                        })();
                    </script>
                </div>
            </div>
        </footer>
    </div>

    <script src="lang.js"></script>
    <script src="script.js"></script>
    
    <!-- JavaScript for Sidebar Navigation -->
    <script>
        function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
            document.getElementById("myOverlay").style.width = "100%";
            document.getElementById("main").style.marginLeft = "250px";
        }
        
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            document.getElementById("myOverlay").style.width = "0";
            document.getElementById("main").style.marginLeft = "0";
        }
        
        // Update navigation text based on language
        document.addEventListener('DOMContentLoaded', function() {
            // Navigation will be updated when translations are applied
            if (typeof applyTranslations === 'function') {
                const originalApply = applyTranslations;
                applyTranslations = function() {
                    originalApply();
                    updateNavigationText();
                };
            }
            
            function updateNavigationText() {
                if (typeof getTranslation === 'function') {
                    document.getElementById('nav-home').textContent = getTranslation('navHome') || 'Home';
                    document.getElementById('nav-about').textContent = getTranslation('navAbout') || 'About Us';
                    document.getElementById('legal-header').textContent = getTranslation('navLegalHeader') || 'Legal';
                    document.getElementById('nav-privacy').textContent = getTranslation('navPrivacy') || 'Privacy Policy';
                    document.getElementById('nav-terms').textContent = getTranslation('navTerms') || 'Terms of Service';
                    document.getElementById('nav-cookies').textContent = getTranslation('navCookies') || 'Cookie Policy';
                }
            }
        });
    </script>
</body>
</html> 